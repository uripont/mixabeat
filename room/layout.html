<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MixaBeat - Audio Editor</title>
    <link rel="stylesheet" href="layout.css">
    <link rel="stylesheet" href="chat/chat.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="sound-picker/sound-picker.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽµ</text></svg>">
</head>
<body>
    <div class="editor-layout">
        <!-- Main Content Grid -->
        <div class="main-content">
            <!-- Left Panel - Sound Picker -->
            <div class="left-panel panel">
                <h3>Sound Picker</h3>
                <div class="panel-content">
                    <!-- Sound Picker Component -->
                    <div id="soundPickerContainer"></div>
                </div>
            </div>

            <!-- Center Panel - Timeline Canvas -->
            <div class="center-panel panel">
                <!-- Top Controls -->
                <div class="top-panel">
                    <div class="control-group left">
                        <button class="control-btn play-btn" title="Play/Pause">
                            <i class="fas fa-play"></i>
                        </button>
                        <button class="control-btn stop-btn" title="Stop">
                            <i class="fas fa-stop"></i>
                        </button>
                        <button class="control-btn restart-btn" title="Restart">
                            <i class="fas fa-redo"></i>
                        </button>
                    </div>

                    <div class="control-group center">
                        <div class="room-info"></div>
                        <div class="timer">00:00</div>
                    </div>

                    <div class="control-group right">
                        <button class="action-btn" title="Back to Rooms">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                <div class="panel-content">
                    <!-- Will be populated by canvas component -->
                    <div id="canvasPanelContainer" style="height: 100%;"></div>
                </div>
            </div>

            <!-- Right Panel - Chat -->
            <div class="right-panel panel">
                <div class="panel-content">
                    <!-- Will be populated by chat component -->
                </div>
            </div>

        </div>
    </div>

    <!-- Script imports will go here -->
    <script type="module" src="layout.js"></script>
    <script type="module">
        // Load sound picker component
        fetch('sound-picker/sound-picker.html')
            .then(response => response.text())
            .then(html => {
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                const template = doc.querySelector('#sound-picker-template');
                
                if (template) {
                    const soundPickerContainer = document.getElementById('soundPickerContainer');
                    soundPickerContainer.appendChild(template.content.cloneNode(true));
                } else {
                    throw new Error('Sound picker template not found');
                }
            })
            .catch(error => console.error('Error loading sound picker:', error));

    </script>
</body>
</html>
